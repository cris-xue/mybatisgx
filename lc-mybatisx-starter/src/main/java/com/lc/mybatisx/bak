            // 开始扫描dao
            ResourcePatternResolver resolver = new PathMatchingResourcePatternResolver();
            MetadataReaderFactory metadataReaderFactory = new CachingMetadataReaderFactory();

            ClassUtils.convertClassNameToResourcePath("").concat("/**.class");
            Resource[] classResources = resolver.getResources("classpath*:/com/es/wms/tenant/dao/**/**.class");
            for (Resource classResource : classResources) {
                ClassMetadata classMetadata = metadataReaderFactory.getMetadataReader(classResource).getClassMetadata();
                Class<?> clazz = Resources.classForName(classMetadata.getClassName());
                Class<?>[] daoInterfaces = clazz.getInterfaces();
                for (Class daoInterface : daoInterfaces) {
                    boolean isAdd = true;
                    if (daoInterface == BaseDao.class) {
                        // <mapper namespace="com.es.wms.tenant.dao.DBManageDao">
                        for (Resource mapperResource : mapperResources) {
                            DocumentBuilderFactory xmlFactory = DocumentBuilderFactory.newInstance();
                            DocumentBuilder builder = xmlFactory.newDocumentBuilder();
                            Document doc = builder.parse(mapperResource.getFile());
                            String namespace = doc.getDocumentElement().getAttribute("namespace");
                            if (clazz.getName().equals(namespace)) {
                                isAdd = false;
                            }
                        }
                    }

                    if (isAdd) {
                        String namespace = clazz.getName();
                        String xml = "<?xml version=\"1.0\" encoding=\"UTF-8\"?>";
                        xml = xml.concat("<!DOCTYPE mapper PUBLIC \"-//mybatis.org//DTD Mapper 3.0//EN\" \"http://mybatis.org/dtd/mybatis-3-mapper.dtd\">");
                        xml = xml.concat("<mapper namespace=\"" + namespace + "\">");
                        xml = xml.concat("</mapper>");
                        ByteArrayInputStream bais = new ByteArrayInputStream(xml.getBytes());
                        Resource resource = new InputStreamResource(bais);
                        mapperResourceList.add(resource);

                        bais.close();
                    }
                }
            }

            Resource[] res = new Resource[5];
            res[0] = mapperResources[0];
            res[1] = mapperResources[1];
            res[2] = mapperResourceList.get(0);